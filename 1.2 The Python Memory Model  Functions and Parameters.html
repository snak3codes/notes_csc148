
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="nav"><div>Next: <a href='1.3 The Function Design Recipe.html'>1.3 The Function Design Recipe</a>, Previous: <a href='1.1 The Python Memory Model  Introduction.html'>1.1 The Python Memory Model: Introduction</a>, Up: <a href='index.html'>Index</a></div></div>
      <div id="titlearea">
        <h2>1.2 The Python Memory Model: Functions and Parameters</h2>
      </div>
      <div id="contentarea"><div class="cell text-cell"><h2>Terminology</h2>
<p>Let’s use this simple example to review some terminology that should be familiar to you:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment"># Example 1.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">def</span> <span class="ace_identifier">mess_about</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">n</span>: <span class="ace_support ace_function">int</span>, <span class="ace_identifier">s</span>: <span class="ace_support ace_function">str</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">-&gt;</span> <span class="ace_constant ace_language">None</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">message</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">s</span> <span class="ace_keyword ace_operator">*</span> <span class="ace_identifier">n</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">print</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">if</span> <span class="ace_identifier">__name__</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'__main__'</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">count</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_numeric">13</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">word</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'nonsense'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">mess_about</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">count</span>, <span class="ace_identifier">word</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></div><div class="cell text-cell"><p>In the function declaration, each variable in the parentheses is called a <strong>parameter</strong>. Here, <code>n</code> and <code>s</code> are parameters of function <code>mess_about</code>. When we call a function, each expression in the parentheses is called an <strong>argument</strong>. The arguments in our one call to <code>mess_about</code> are <code>count</code> and <code>word</code>.</p>
</div><div class="cell text-cell"><h2>How function calls are tracked</h2>
<p>Python must keep track of the function that is currently running, and any variables defined inside of it. It stores this information in something called a <strong>stack frame</strong>, or just “frame” for short.</p>
<p>Every time we call a function, the following happens:</p>
<ol>
<li>A new frame is created and placed on top of any frames that may already exist. We call this pile of frames the <strong>call stack</strong>.</li>
<li>Each parameter is defined inside that frame.</li>
<li>The arguments in the function call are evaluated, in order from left to right. Each is an expression, and evaluating it yields the id of an object. Each of these ids is assigned to the corresponding parameter.</li>
</ol>
<p>Then the body of the function is executed.</p>
<p>In the body of the function there may be assignment statements. We know that if the variable on the left-hand-side of the assignment doesn’t already exist, Python will create it. But with the awareness that there may be a stack of frames, we need a slightly more detailed rule:</p>
<blockquote>
<p>If the variable on the left-hand-side of the assignment doesn’t already exist <em>in the top stack frame</em>, Python will create it <em>in that top stack frame</em>.</p>
</blockquote>
<p>For example, if we stop our above sample code right before printing <code>message</code>, this is the state of memory:<img src="resources/F23C3B56EE3F6C2496276A608C8A56C2.jpg" alt="variables"></p>
<p>Notice that the top stack frame, for our call to <code>mess_about</code>, includes the new variable <code>message</code>. We say that any new variables defined inside a function are <strong>local variables</strong>; they are local to a call to that function.</p>
<p>When a function returns, either due to executing a <code>return</code> statement or getting to the end of the function, the frame for that function call is deleted. All the variables defined in it—both parameters and local variables—disappear. If we try to refer to them after the function has returned, we get an error. For example, when we are about to execute the final line in this program,</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment"># Example 2. (Same as Example 1, but with a print statement added.)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">def</span> <span class="ace_identifier">mess_about</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">n</span>: <span class="ace_support ace_function">int</span>, <span class="ace_identifier">s</span>: <span class="ace_support ace_function">str</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">-&gt;</span> <span class="ace_constant ace_language">None</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">message</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">s</span> <span class="ace_keyword ace_operator">*</span> <span class="ace_identifier">n</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">print</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">if</span> <span class="ace_identifier">__name__</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'__main__'</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">count</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_numeric">13</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">word</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'nonsense'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">mess_about</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">count</span>, <span class="ace_identifier">word</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">print</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">n</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></div><div class="cell text-cell"><p>this is the state of memory,<img src="resources/22BAFADB7F080DC750D04F17D69E36EA.jpg" alt="variables"></p>
<p>which explains why the final line produces the error <code>NameError: name 'n' is not defined</code>.</p>
</div><div class="cell text-cell"><h2>Passing an argument creates an alias</h2>
<p>What we often call “parameter passing” can be thought of as essentially variable assignment. In the example above, it is as if we wrote</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">n</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">count</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">s</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">word</span>
</div></div></div></div><div class="cell text-cell"><p>before the body of the function.</p>
<p>If an argument to a function is a variable, what we assign to the function’s parameter is the id of the object that the variable references. This creates an alias. As you should expect, what the function can do with these aliases depends on whether or not the object is mutable.</p>
</div><div class="cell text-cell"><h2>Passing a reference to an immutable object</h2>
<p>If we pass a reference to an immutable object, we can do whatever we want with the parameter and there will be no effect outside the function.</p>
<p>Here’s an example:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment"># Example 3.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">def</span> <span class="ace_identifier">emphasize</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">s</span>: <span class="ace_support ace_function">str</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">-&gt;</span> <span class="ace_constant ace_language">None</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">s</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">s</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_identifier">s</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_string">'!'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">if</span> <span class="ace_identifier">__name__</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'__main__'</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">word</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'moo'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">emphasize</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">word</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">print</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">word</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></div><div class="cell text-cell"><p>This code prints plain old <code>moo</code>. The reason is that, although we set up an alias, we don’t (and can’t) change the object that both <code>word</code> and <code>s</code> reference; we make a new object. Here’s the state of memory right before the function returns:<img src="resources/D2C017336C357F366C1274248F8A77F4.jpg" alt="variables"></p>
<p>Once the function is over and the stack frame is gone, the string object we want (with <code>moomoo!</code>) will be inaccessible. The net effect of this function is nothing at all. It doesn’t change the object that <code>s</code> refers to, it doesn’t return anything, and it has no other effect such as taking user rinput or printing to the screen. The one thing it does do, making <code>s</code> refer to something new, doesn’t last beyond the function call.</p>
<p>If we want to use this function to change <code>word</code>, the solution is to return the new value and then, in the calling code, assign that value to <code>word</code>:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment"># Example 4.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">def</span> <span class="ace_identifier">emphasized</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">s</span>: <span class="ace_support ace_function">str</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">-&gt;</span> <span class="ace_support ace_function">str</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">return</span> <span class="ace_identifier">s</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_identifier">s</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_string">'!'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">if</span> <span class="ace_identifier">__name__</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'__main__'</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">word</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'moo'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">word</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">emphasized</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">word</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">print</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">word</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></div><div class="cell text-cell"><p>This code prints out <code>moomoo!</code>. Notice that we changed the function name from <code>emphasize</code> to <code>emphasized</code>. This makes sense when we consider the context of the function call:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">word</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">emphasized</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">word</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></div><div class="cell text-cell"><p>Our function call is not merely performing some action, it is returning a value. So the expression on the right-hand side has a value: it is the emphasized word.</p>
</div><div class="cell text-cell"><h2>Passing a reference to a mutable object</h2>
<p>If we wrote code analogous to the broken code in Example 3, but with a mutable type, it wouldn’t work either. For example:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment"># Example 5.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">def</span> <span class="ace_identifier">emphasize</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">lst</span>: <span class="ace_identifier">List</span><span class="ace_paren ace_lparen">[</span><span class="ace_support ace_function">str</span><span class="ace_paren ace_rparen">])</span> <span class="ace_keyword ace_operator">-&gt;</span> <span class="ace_constant ace_language">None</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">lst</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">lst</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_paren ace_lparen">[</span><span class="ace_string">'believe'</span>, <span class="ace_string">'me!'</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">if</span> <span class="ace_identifier">__name__</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'__main__'</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">sentence</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_string">'winter'</span>, <span class="ace_string">'is'</span>, <span class="ace_string">'coming'</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">emphasize</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">sentence</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">print</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">sentence</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></div><div class="cell text-cell"><p>This code prints <code>['winter', 'is', 'coming']</code> for the same reason we saw in Example 3. Changing a reference (in this case, making <code>lst</code> refer to something new) is not the same as mutating a value (in this case, mutating the <code>list</code> object whose id was passed to the function). This model of memory illustrates:<img src="resources/71D18AAC40798DEC3D2AB7775B146BAC.jpg" alt="variables"></p>
</div><div class="cell text-cell"><p>The code below, however, correctly mutates the object:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment"># Example 6.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">def</span> <span class="ace_identifier">emphasize</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">lst</span>: <span class="ace_identifier">List</span><span class="ace_paren ace_lparen">[</span><span class="ace_support ace_function">str</span><span class="ace_paren ace_rparen">])</span> <span class="ace_keyword ace_operator">-&gt;</span> <span class="ace_constant ace_language">None</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">lst</span>.<span class="ace_identifier">extend</span><span class="ace_paren ace_lparen">([</span><span class="ace_string">'believe'</span>, <span class="ace_string">'me!'</span><span class="ace_paren ace_rparen">])</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">if</span> <span class="ace_identifier">__name__</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'__main__'</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">sentence</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_string">'winter'</span>, <span class="ace_string">'is'</span>, <span class="ace_string">'coming'</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">emphasize</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">sentence</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">print</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">sentence</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></div><div class="cell text-cell"><p>This is the state of memory immediately before function <code>emphasize</code> returns:<img src="resources/729CE071B0A74675BD262DFD4457B973.jpg" alt="variables"></p>
</div><div class="cell text-cell"><p>Here are some things to notice:</p>
<ul>
<li>When we begin this program, we are executing the module as a whole. We make an initial frame to track its variables, and put the module name in the upper-left corner.</li>
<li>When we call <code>emphasize</code>, a new frame is added to the call stack. In the upper-left corner of the frame, we write the function name.</li>
<li>The parameter <code>lst</code> exists in the stack frame. It comes into being when the function is called. And when the function returns, this frame will be discarded, along with everything in it. At that point, <code>lst</code> no longer exists.</li>
<li>When we pass argument <code>sentence</code> to <code>emphasize</code>, we assign it to <code>lst</code>. In other words, we set <code>lst</code> to <code>id29</code>, which creates an alias.</li>
<li><code>id29</code> is a reference to a <code>list</code> object, which is mutable. When we use <code>lst</code> to access and change that object, the object that <code>sentence</code> references also changed. Of course it does: they are the same object!</li>
</ul>
</div><div class="cell text-cell"><h2>Moral of the story</h2>
<p>The situation gets trickier when we have objects that contain references to other objects, and you’ll see examples of this in the work you do this term. The bottom line is this: know whether your objects are mutable—at <em>each</em> level of their structure. Memory model diagrams offer a concise visual way to represent that.</p>
</div></div>
      <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = '1.3 The Function Design Recipe.html';
if (e.keyCode === 37) window.location.href = '1.1 The Python Memory Model  Introduction.html';
}</script>
    </body>
    </html>
  