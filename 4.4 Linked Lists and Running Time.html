
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="nav"><div>Next: <a href='5.1 Motivation  Adding up numbers.html'>5.1 Motivation: Adding up numbers</a>, Previous: <a href='4.3 Linked List Mutation.html'>4.3 Linked List Mutation</a>, Up: <a href='index.html'>Index</a></div></div>
      <div id="titlearea">
        <h2>4.4 Linked Lists and Running Time</h2>
      </div>
      <div id="contentarea"><div class="cell text-cell"><p>To wrap up the discussion of linked lists, we return to our original motivation to studying linked lists: improving the efficiency of some of the basic list operations.</p>
<p>We have already discussed the running time of three operations of array-based lists:</p>
<ul>
<li>
<p>Looking up an element of the list by its index (e.g., <code>lst[i]</code>) takes <em>constant time</em>, i.e., is independent of the length of the list, or even which index we’re looking up. In the language of Big-Oh notation, we write <em>O</em>(1) to represent this time.</p>
</li>
<li>
<p>Inserting or removing an element at index <em>i</em> (0 ≤ <em>i</em> &lt; <em>n</em>) in a list of length <em>n</em> takes time proportional to <em>n</em> − <em>i</em>, which is the number of list elements that need to be shifted when this operation occurs. Remember that Big-Oh notation is used to describe “proportional to” relationships, and so we write that this operation takes time <em>O</em>(<em>n</em> − <em>i</em>).</p>
<p>In particular, if we only consider inserting/removing at the <em>front</em> of an array-based list (so <em>i</em> = 0), this takes time linear in the length of the list: <em>O</em>(<em>n</em>). On the other hand, if we only consider inserting/removing at the <em>end</em> of such a list (<em>i</em> = <em>n</em>), this is a constant time operation: <em>O</em>(1).</p>
</li>
</ul>
</div><div class="cell text-cell"><h2>Turning to linked lists</h2>
<p>What about the corresponding operations for <code>LinkedList</code>? Let’s study our code for <code>LinkedList.insert</code>, first looking at the special cases of inserting into the front and end of a linked list.</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">def</span> <span class="ace_identifier">insert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">self</span>, <span class="ace_identifier">index</span>: <span class="ace_support ace_function">int</span>, <span class="ace_identifier">item</span>: <span class="ace_identifier">Any</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">-&gt;</span> <span class="ace_constant ace_language">None</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment"># Create a new node</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">new_node</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">_Node</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">item</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment"># Need to do something special if we insert into the first position.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment"># In this case, self._first *must* be updated.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_identifier">index</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_constant ace_numeric">0</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">new_node</span>.<span class="ace_support ace_function">next</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">self</span>.<span class="ace_identifier">_first</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">self</span>.<span class="ace_identifier">_first</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">new_node</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">else</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_comment"># Get the node at position (index - 1)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">curr_index</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_numeric">0</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">curr</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">self</span>.<span class="ace_identifier">_first</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">while</span> <span class="ace_identifier">curr</span> <span class="ace_keyword">is</span> <span class="ace_keyword">not</span> <span class="ace_constant ace_language">None</span> <span class="ace_keyword">and</span> <span class="ace_identifier">curr_index</span> <span class="ace_keyword ace_operator">&lt;</span> <span class="ace_identifier">index</span> <span class="ace_keyword ace_operator">-</span> <span class="ace_constant ace_numeric">1</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">curr</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">curr</span>.<span class="ace_support ace_function">next</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">curr_index</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">curr_index</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_constant ace_numeric">1</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">if</span> <span class="ace_identifier">curr</span> <span class="ace_keyword">is</span> <span class="ace_constant ace_language">None</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">raise</span> <span class="ace_identifier">IndexError</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">else</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_comment"># At this point, curr refers to the node at position (index - 1)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">curr</span>.<span class="ace_support ace_function">next</span>, <span class="ace_identifier">new_node</span>.<span class="ace_support ace_function">next</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">new_node</span>, <span class="ace_identifier">curr</span>.<span class="ace_support ace_function">next</span>
</div></div></div></div><div class="cell text-cell"><p>We insert into the front of the linked list by calling <code>insert</code> with an index argument of 0. In this case, the <code>if</code> branch executes, which takes constant time— both assignment statements do not depend on the length of the list.</p>
<p>On the other hand, suppose we want to insert an item at the end of the linked list, and there’s at least one element already in the linked list. The <code>else</code> branch executes, and the loop must iterate until it reaches the end of the list, which takes time linear in the length of the list.</p>
<p>In other words, linked lists have the exact opposite running times as array-based lists for these two operations! Inserting into the <em>front</em> of a linked list takes <em>O</em>(1) time, and inserting into the <em>back</em> of a linked list takes <em>O</em>(<em>n</em>) time, where <em>n</em> is the length of the list.</p>
<p>This may seem disappointing, because now it isn’t clear which list implementation is “better.” But in fact this is pretty typical of computer science: when creating multiple implementations of a public interface, each implementation will often be good at some operations, but worse at others. In practice, it is up to the programmer who is acting as a <em>client</em> of the interface to decide which implementation to use, based on how they prioritize the efficiency of certain operations over others.</p>
</div><div class="cell text-cell"><h2>Investigating the subtleties of “input size”</h2>
<p>Despite our discussion above, we haven’t yet finished the analysis of linked list <code>insert</code>. We’ve really only looked at two special cases: when <code>index</code> is 0, and when <code>index</code> is the length of the linked list. What about all the other numbers?</p>
<p>The <em>very first</em> thing we need to look at is the running of each individual line of code. In this case, each individual line (like <code>curr = self._first</code>) takes <em>constant time</em>, i.e., doesn’t depend on the size of the inputs. This means that the overall running time depends on the number of lines that execute, and this in turn depends on the number of times the loop runs.</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">curr_index</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_numeric">0</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">curr</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">self</span>.<span class="ace_identifier">_first</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">while</span> <span class="ace_identifier">curr</span> <span class="ace_keyword">is</span> <span class="ace_keyword">not</span> <span class="ace_constant ace_language">None</span> <span class="ace_keyword">and</span> <span class="ace_identifier">curr_index</span> <span class="ace_keyword ace_operator">&lt;</span> <span class="ace_identifier">index</span> <span class="ace_keyword ace_operator">-</span> <span class="ace_constant ace_numeric">1</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">curr</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">curr</span>.<span class="ace_support ace_function">next</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">curr_index</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">curr_index</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_constant ace_numeric">1</span>
</div></div></div></div><div class="cell text-cell"><p>So how many times does the loop run? There are two possibilities for when it stops: when <code>curr is None</code>, or when <code>curr_index == index - 1</code>.</p>
<ul>
<li>The first case means that the end of the list was reached, which happens after <code>n</code> iterations, where <code>n</code>is the length of the list (each iteration, the <code>curr</code> variable advances by one node).</li>
<li>The second case means that the loop ran <code>index - 1</code> times, since <code>curr_index</code> starts at 0 and increases by 1 per iteration.</li>
</ul>
<p>Since the loop stops when one of the conditions is false, the number of iterations is the <em>minimum</em> of these two possibilities: <em>m<strong>i</strong>n</em>(<em>n</em>, <em>i<strong>n</strong>d<strong>e</strong>x</em> − 1).</p>
<p>Since the total number of steps is proportional to the number of loop iterations, we can conclude that the asymptotic running time of this method is <em>O</em>(<em>m<strong>i</strong>n</em>(<em>n</em>, <em>i<strong>n</strong>d<strong>e</strong>x</em> − 1)), where <em>n</em> is the size of <code>self</code>. But because Big-Oh notation is to simplify our running-time expressions by dropping smaller terms, we can drop the “-1” and simply write that the Big-Oh running time is <em>O</em>(<em>m<strong>i</strong>n</em>(<em>n</em>, <em>i<strong>n</strong>d<strong>e</strong>x</em>)).</p>
</div><div class="cell text-cell"><h3>Special cases</h3>
<p>The Big-Oh expression <em>O</em>(<em>m<strong>i</strong>n</em>(<em>n</em>, <em>i<strong>n</strong>d<strong>e</strong>x</em>)) for <code>LinkedList.insert</code> is the most general expression we could give, since we didn’t make any assumptions about the relationship between the length of the linked list and <code>index</code>.</p>
<p>But now suppose we assume that <code>index &lt;= n</code>, which is plausible since any larger value would raise an <code>IndexError</code> error. In this case, the Big-Oh expression simplifies to just <em>O</em>(<em>i<strong>n</strong>d<strong>e</strong>x</em>), revealing that under this assumption, the running time depends only on <code>index</code> and not on the length of the linked list at all.</p>
<p>This is a bit subtle, so let’s say this again. We have a relationship between the running time of <code>insert</code>and the sizes of two of its inputs. But we can simplify this expression by talking about the relationship between these two input sizes. Essentially, we say that <em>if</em> we treat <code>index</code> as small with respect to the size of the list, then the running time of the algorithm does not depend on the size of the list.</p>
<p>On the other hand, suppose <code>index</code> is greater than the size of the list; in this case, the Big-Oh expression simplifies to <em>O</em>(<em>n</em>): even though we know this value raises an <code>IndexError</code>, our current implementation requires traversing the entire linked list before realizing that <code>index</code> is out of bounds.</p>
</div><div class="cell text-cell"></div></div>
      <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = '5.1 Motivation  Adding up numbers.html';
if (e.keyCode === 37) window.location.href = '4.3 Linked List Mutation.html';
}</script>
    </body>
    </html>
  