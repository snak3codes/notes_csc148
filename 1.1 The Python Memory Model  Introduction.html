
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="nav"><div>Next: <a href='1.2 The Python Memory Model  Functions and Parameters.html'>1.2 The Python Memory Model: Functions and Parameters</a>, Up: <a href='index.html'>Index</a></div></div>
      <div id="titlearea">
        <h2>1.1 The Python Memory Model: Introduction</h2>
      </div>
      <div id="contentarea"><div class="cell text-cell"><h2>Data</h2><div><div>All data in a Python program is stored in objects that have three components: id, type, and value. We normally think about the value when we talk about data, but the data’s type and id are also important.</div><div><br></div><div>The id of an object is a unique identifier, meaning that no other object has the same identifier. Often Python uses the memory address of the object as its id, but it doesn’t have to; it just has to guarantee uniqueness. We can see the id of any object by calling the id function:</div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">1635361280</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'words'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4297547872</span>
</div></div></div></div><div class="cell text-cell"><div>We can see the type of any object by calling the type function:</div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">type</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_keyword">class</span> <span class="ace_string">'int'</span><span class="ace_keyword ace_operator">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">type</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'words'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_keyword">class</span> <span class="ace_string">'str'</span><span class="ace_keyword ace_operator">&gt;</span>
</div></div></div></div><div class="cell text-cell"><div>An object’s type determines what functions can operate on it. For example, we can call the function round on numeric types (such as int and float), but not on strings:</div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">round</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">2</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">2</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">round</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">3.1419</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">3</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">round</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'hello!'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Traceback</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">most</span> <span class="ace_identifier">recent</span> <span class="ace_identifier">call</span> <span class="ace_identifier">last</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">File</span> <span class="ace_string">"&lt;input&gt;"</span>, <span class="ace_identifier">line</span> <span class="ace_constant ace_numeric">1</span>, <span class="ace_keyword">in</span> <span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">module</span><span class="ace_keyword ace_operator">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">TypeError</span>: <span class="ace_support ace_function">type</span> <span class="ace_support ace_function">str</span> <span class="ace_identifier">doesn</span><span class="ace_string">'t define __round__ method</span>
</div></div></div></div><div class="cell text-cell"><div>Types also determine the objects on which we can use built-in Python operators.1For example, the + operator works on two integers, and even on two strings, but is not defined for adding an integer and a string together:</div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_constant ace_numeric">3</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_constant ace_numeric">4</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">7</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_string">'hey'</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_string">'hello'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_string">'heyhello'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_constant ace_numeric">3</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_string">'hello'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Traceback</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">most</span> <span class="ace_identifier">recent</span> <span class="ace_identifier">call</span> <span class="ace_identifier">last</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">File</span> <span class="ace_string">"&lt;input&gt;"</span>, <span class="ace_identifier">line</span> <span class="ace_constant ace_numeric">1</span>, <span class="ace_keyword">in</span> <span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">module</span><span class="ace_keyword ace_operator">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">TypeError</span>: <span class="ace_identifier">unsupported</span> <span class="ace_identifier">operand</span> <span class="ace_support ace_function">type</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">s</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword">for</span> <span class="ace_keyword ace_operator">+</span>: <span class="ace_string">'int'</span> <span class="ace_keyword">and</span> <span class="ace_string">'str'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_string">'hello'</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_string">'goodbye'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_string">'hellogoodbye'</span>
</div></div></div></div><div class="cell text-cell"><div>Finally, you are already familiar with accessing the value of an object, which we call evaluating the object. For example, this is what happens when we type an object into the Python terminal:</div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_constant ace_numeric">3</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">3</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_string">'hello'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_string">'hello'</span>
</div></div></div></div><div class="cell text-cell"><h2>Variables</h2><div>All programming languages have the concept of variables. In Python, a variable is not an object, and so does not actually store data; it stores an id that refers to an object that stores data. This is the case whether the data is something very simple like an int or more complex like a str.</div><div><br></div><div>Consider this code:</div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_numeric">3</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">3</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">type</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_keyword">class</span> <span class="ace_string">'int'</span><span class="ace_keyword ace_operator">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">1635361280</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">word</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'bonjour'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">type</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">word</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_keyword">class</span> <span class="ace_string">'str'</span><span class="ace_keyword ace_operator">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">word</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4385008808</span>
</div></div></div></div><div class="cell text-cell"><div>The state of memory after the above piece of code executes is this:</div></div><div class="cell text-cell"><p><img src="resources/62685CC39981BA67F4C8E327380D500D.jpg" alt="There are two variables, x and word. Each is a container holding just one thing: the id of an object. x contains the id of an int object, and that int object is a container holding the value 3. word contains the id of a str object, and that str object is a container holding the value ."></p>
</div><div class="cell text-cell"><div>We write the id and type of each object in its upper-left corner and upper-right corner, respectively. The actual object id reported by the id function has many digits, and its true value isn’t important; we just need to know that each object has a unique identifier. So for our drawings we make up short identifiers such as id92.</div><div><br></div><div>Notice that there is no 3 inside the box for variable x. Instead, there is the id of an object whose value is 3. We say that x refers to this object, or that x referencesthis object. The same holds for variable word; it references an object whose value is 'bonjour'.</div><div><br></div><div>Here are a couple of other things to notice:</div><div><br></div><div>Since we did not write the code for the class that defines the str type, we know nothing about what data members it uses to store its contents. So we just write the value 'bonjour' inside the box. This is a perfectly fine abstraction.</div><div>We didn’t draw any arrows. Programmers often draw an arrow when they want to show that one thing references another. This is great once you are very confident with a language and how references work. But in the early stages, you are much more likely to make correct predictions if you write down references (you can just make up id values) rather than arrows.</div><div>We can reassign a variable so that it refers to a new value. For instance:</div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">cat</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'Gilbert'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">cat</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4348845448</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">cat</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'Chairman Meow'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">cat</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4355636784</span>
</div></div></div></div><div class="cell text-cell"><p>In this example, there is only one variable named cat. At first it contains the id of a str object containing the string Gilbert, and then the id in it changes to be that of a str object containing the string Chairman Meow.</p>
<p>These examples are extremely simple, but having an accurate image will be necessary in order to avoid bugs in the much more complex code that we will write this term.</p>
<h3>Objects have a type, but variables don’t</h3>
<p>We saw above that Python will report to us what type(word) is. But it is really reporting the type of the object that word refers to. The variable word itself has no type.2 In fact, Python doesn’t mind if we make word refer now to a different type of object, although this is almost surely a bad idea.</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">word</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'adieu'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">type</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">word</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_keyword">class</span> <span class="ace_string">'str'</span><span class="ace_keyword ace_operator">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">word</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_numeric">42</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">type</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">word</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_keyword">class</span> <span class="ace_string">'int'</span><span class="ace_keyword ace_operator">&gt;</span>
</div></div></div></div><div class="cell text-cell"><h2>A brief aside on assignment statements and evaluating expressions</h2>
<p>You’ve written code much more complex than what’s above, but may not have had to think in detail about all the small steps that Python has to undertake to execute even a simple assignment statement. These details are foundational for writing and debugging the more complex code you will work on in csc148. So let’s pause for a moment and be explicit about two things.</p>
<h3>Executing an assignment statement</h3>
<p>This is what Python does when an assignment statement is executed:</p>
<p>Evaluate the expression on the right-hand side, yielding the id of an object.</p>
<p>If the variable on the left-hand-side doesn’t already exist, create it.</p>
<p>Store the id from the expression on the right-hand-side in the variable on the left-hand side.</p>
<h3>Evaluating an expression</h3>
<p>An assignment statement always has an expression on the right-hand side. Expressions can occur in other places also, for instance as arguments to a function call. When an expression is encountered, it must be evaluated. This always yields a value, which is the id of an object.</p>
<p>This is what Python does when an expression is evaluated:</p>
<ul>
<li>If the expression is a variable, find the variable. If it doesn’t exist, this is an error. If it does exist, the value of the expression is the id stored in that variable.</li>
<li>If the expression is a “literal value”, such as <code>176.4</code> or <code>'hello'</code>, create an object of the appropriate type to hold it. The value of the expression is the id of that object.</li>
<li>If the expression is an operator, such as <code>+</code> or <code>%</code>, evaluate its two operands, apply the operator to them, and create a new object of the appropriate type to hold the result. The value of the expression is the id of that object.</li>
</ul>
<p>There are additional rules for other types of expression, but these will do for now.</p>
<h3>Mutability and aliasing</h3>
<p><strong>Immutable Data Types</strong></p>
<p>Some data types in Python (e.g., integers, strings, and booleans) are <strong>immutable</strong>, meaning that the value stored in an object of that type cannot change.</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">prof</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'Diane'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">prof</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4405312456</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">prof</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">prof</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_string">' Horton'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">prof</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_string">'Diane Horton'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># The old str object couldn't change, so Python made a new </span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># str object for the variable prof to refer to.  Since it's</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># a new object, it has a different id.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">prof</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4405308016</span>
</div></div></div></div><div class="cell text-cell"><p>We did not change the value stored in the object—we couldn’t, since strings are immutable—but rather changed <em>what <code>prof</code> refers to</em>, as shown here:</p>
</div><div class="cell text-cell"><p><img src="resources/9EA0FD58EDA6AA13D1C720E667604DC0.jpg" alt="immutable types"></p>
<p>We will use the convention of drawing a double box around objects that are immutable. Think of it as signifying that you can’t get in there and change anything.</p>
<p>Notice that in the example above we reassigned the variable <code>prof</code>—that is, we made it refer to a new <code>str</code> object— and we could do this even though strings are immutable. Regardless of the mutability of any objects, we can always reassign a variable.</p>
<p><strong>Mutable Data Types</strong></p>
<p>More complex data structures in Python are mutable, including lists, dictionaries, and user-defined classes. Let’s see what this means with a list:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">type</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_keyword">class</span> <span class="ace_string">'list'</span><span class="ace_keyword ace_operator">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">50706312</span>
</div></div></div></div><div class="cell text-cell"><p>Below, we perform two mutating operations on <code>x</code>, and check that its id hasn’t changed. Note that even changing the list’s size doesn’t change its id!</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span><span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">]</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_numeric">1000000</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">1000000</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">50706312</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span>.<span class="ace_identifier">extend</span><span class="ace_paren ace_lparen">([</span><span class="ace_constant ace_numeric">10</span>, <span class="ace_constant ace_numeric">20</span>, <span class="ace_constant ace_numeric">30</span><span class="ace_paren ace_rparen">])</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">1000000</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span>, <span class="ace_constant ace_numeric">10</span>, <span class="ace_constant ace_numeric">20</span>, <span class="ace_constant ace_numeric">30</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">50706312</span>
</div></div></div></div><div class="cell text-cell"><p>Here’s what’s going on in memory:</p>
<p><img src="resources/B59152B1C3C481E46A03D25989F74A54.jpg" alt="mutable types"></p>
<p>The lines <code>x[0] = 1000000</code> and <code>x.extend([10, 20, 30])</code> changed the value of the list object that <code>x</code> refers to. We say that these lines <strong>mutate</strong> the object that <code>x</code> refers to. (They also cause the creation of four new objects of type <code>int</code>.)</p>
</div><div class="cell text-cell"><h2>Aliasing</h2>
<p>When two variables refer to the same object, we say that the variables are <strong>aliases</strong>of each other.</p>
<p>Consider the following Python code:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">y</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">z</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">x</span>
</div></div></div></div><div class="cell text-cell"><p><code>x</code> and <code>z</code> are aliases, as they both reference the same object. As a result, they have the same id. You should think of the assignment statement <code>z = x</code> as saying “make <code>z</code> refer to the object that <code>x</code> refers to.” After doing so, they have the same id.</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4401298824</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">z</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4401298824</span>
</div></div></div></div><div class="cell text-cell"><p>In contrast, <code>x</code> and <code>y</code> are not aliases. They each refer to a list object with <code>[1, 2, 3]</code>as its value, but they are two different list objects, stored separately in your computer’s memory. This is again reflected in their different ids.</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4401298824</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">y</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4404546056</span>
</div></div></div></div><div class="cell text-cell"><p><img src="resources/1B1778F8E90CA40BF35E3E661E7FC4AC.jpg" alt="Aliasing example. There are two different list objects. They have identical contents, but are distinct objects, each with their own id. There are three variables, x, y, and z. x and z both contain the same id, the id of one of the list objects. y contains the id of the other list object."></p>
</div><div class="cell text-cell"><h3>Aliasing and mutation</h3>
<p>Aliasing is often a source of confusion for beginners, because it allows “action at a distance”: the modification of a variable’s value without explicitly mentioning that variable. Here’s an example:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">z</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">x</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">z</span><span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">]</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword ace_operator">-</span><span class="ace_constant ace_numeric">999</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span>   <span class="ace_comment"># What is the value?</span>
</div></div></div></div><div class="cell text-cell"><p>The third line mutates the value of <code>z</code>. But without ever mentioning <code>x</code>, it also mutates the value of <code>x</code>! We call this a <strong>side effect</strong>.</p>
<p>Imprecise language can lead us into misunderstanding the code. We said above that “the third line mutates the value of <code>z</code>”. To be more precise, the third line mutates the object that <code>z</code> refers to. Of course we can also say that it mutates the object that <code>x</code> refers to—they are the same object! A clear diagram like this can really help:<img src="resources/4F7BFDC19EF03D9D09C177FEFF03C61A.jpg" alt="aliasing and mutation"></p>
<p>The key thing to notice about this example is that just by looking at the third line of code, <code>z[0] = -999</code>, you can’t tell that <code>x</code> has changed; you need to know that on a previous line, <code>z</code> was made an alias of <code>x</code>. This is why you have to be careful when aliasing occurs.</p>
<p>Contrast the previous code with this:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">y</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">y</span><span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">]</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword ace_operator">-</span><span class="ace_constant ace_numeric">999</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span>   <span class="ace_comment"># What is the value?</span>
</div></div></div></div><div class="cell text-cell"><p>Can you predict the value of <code>x</code> on the last line? Here, the third line mutates the object that <code>y</code> refers to, but because it is not the same object that <code>x</code> refers to, we still see <code>[1, 2, 3]</code> if we evaluate <code>x</code>. Here’s the state of memory after these lines execute:<img src="resources/15C47E6D9518720E1828870044E98A9A.jpg" alt="aliasing and mutation"></p>
<p>Aliasing also exists for immutable data types, but in this case there is never any “action at a distance”, precisely because immutable values can never change. For example, a tuple is an ordered sequence like a list, but it is immutable. In the example below, <code>x</code> and <code>z</code> are aliases of a tuple object; but it is impossible to create a side effect on <code>x</code> by mutating the object that <code>z</code> refers to, since we can’t mutate tuples at all.</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">z</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">x</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">z</span><span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">]</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword ace_operator">-</span><span class="ace_constant ace_numeric">999</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Traceback</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">most</span> <span class="ace_identifier">recent</span> <span class="ace_identifier">call</span> <span class="ace_identifier">last</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">File</span> <span class="ace_string">"&lt;input&gt;"</span>, <span class="ace_identifier">line</span> <span class="ace_constant ace_numeric">1</span>, <span class="ace_keyword">in</span> <span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">module</span><span class="ace_keyword ace_operator">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">TypeError</span>: <span class="ace_string">'tuple'</span> <span class="ace_support ace_function">object</span> <span class="ace_identifier">does</span> <span class="ace_keyword">not</span> <span class="ace_identifier">support</span> <span class="ace_identifier">item</span> <span class="ace_identifier">assignment</span>
</div></div></div></div><div class="cell text-cell"><h3>Changing a reference is not the same as mutating a value</h3>
<p>What if we did this instead?</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">z</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">x</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">z</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span>, <span class="ace_constant ace_numeric">40</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span>   <span class="ace_comment"># What is the value?</span>
</div></div></div></div><div class="cell text-cell"><p>Again, we have made <code>x</code> and <code>z</code> refer to the same object. So when we change <code>z</code> on the third line, does <code>x</code> also change? This time, the answer is an emphatic <strong>no</strong>, and it is because of the kind of change we make on the third line. Instead of mutating the object that <code>z</code> refers to, we make <code>z</code> refer to a new object. This obviously can have no effect on the object that <code>x</code> refers to (or <em>any</em> object). Even if we switched the example from using immutable tuples to using mutable lists, <code>x</code> would be unchanged.</p>
<p>In general, a statement of the form <code>my_var = _____</code> <strong>never mutates</strong> the object that <code>my_var</code> refers to; all it can ever do is set <code>my_var</code> to refer to a different object. Keep this rule in mind when you’re writing your own code, as it’s often easy to confuse mutating values with changing references.</p>
</div><div class="cell text-cell"><h3>Making a copy to avoid side effects</h3>
<p>Sometimes it makes sense to make a copy of a data structure so that changes can be made to it without any side effect on the original. Keep in mind, though, that this consumes both space and time resources, and is often unnecessary.</p>
</div><div class="cell text-cell"><h2>Two types of equality</h2><div>Let’s look one more time at this code:</div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">y</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">1</span>, <span class="ace_constant ace_numeric">2</span>, <span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">z</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">x</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4401298824</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">y</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4404546056</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">z</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4401298824</span>
</div></div></div></div><div class="cell text-cell"><p>What if we wanted to see whether <code>x</code> and <code>y</code>, for instance, were the same? Well, we’d need to define precisely what we mean by “the same.” We can use the <code>==</code>operator to compare the <em>values</em> stored in the objects they reference. This is called <strong>value equality</strong>.</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_identifier">y</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_language">True</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_identifier">z</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_language">True</span>
</div></div></div></div><div class="cell text-cell"><p>Or, we can use the <code>is</code> operator to compare the <em>ids</em> of the objects they reference. With <code>is</code>, we are asking whether two variables reference the exact same object. This is called <strong>identity equality</strong>.</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword">is</span> <span class="ace_identifier">y</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_language">False</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword">is</span> <span class="ace_identifier">z</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_language">True</span>
</div></div></div></div><div class="cell text-cell"><p>All built-in types have an implementation for <code>==</code> so that we can check for value equality; we’ll later see how to define <code>==</code> for our own classes.</p>
</div><div class="cell text-cell"><h3>A Special case with immutable objects</h3>
<p>Because ints are immutable, there isn’t much point in Python creating a separate int object every time your variable needs to refer to, say, 0. They can all refer to the very same object and no harm can be done since the object can never change. This explains the following code:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_numeric">43</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">y</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_numeric">43</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">z</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">x</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># Of course we see that all three variables have value</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># equality. They all reference an int object containing</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># 43.  Whether or not they are the same int object is</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># irrelevant to "==".</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_identifier">y</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_language">True</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_identifier">z</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_language">True</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># But "is" checks identity equality.  We wouldn't have</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># expected x and y to reference the same int object.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># But now we know that Python feels free to take a</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># short-cut and not create a second int object holding</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># the value 43, and in this case it did:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword">is</span> <span class="ace_identifier">y</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_language">True</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword">is</span> <span class="ace_identifier">z</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_language">True</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_comment"># We can confirm that x and y have the same id:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4331557184</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_support ace_function">id</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">y</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_numeric">4331557184</span>
</div></div></div></div><div class="cell text-cell"><p>Python can take this short-cut with any value of any immutable type. For example, here we can observe the short-cut with strings:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'foo'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">y</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'foo'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword">is</span> <span class="ace_identifier">y</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_language">True</span>
</div></div></div></div><div class="cell text-cell"><p>But in this example, Python <em>doesn’t</em> take the short-cut:</p>
</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">"ice cream"</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">y</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">"ice cream"</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">&gt;&gt;&gt;</span> <span class="ace_identifier">x</span> <span class="ace_keyword">is</span> <span class="ace_identifier">y</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_constant ace_language">False</span>
</div></div></div></div><div class="cell text-cell"><p>It turns out that when Python does and doesn’t take the short-cut is quite complex, and it could even change from one version of Python to the next. But it makes no difference to our code’s behaviour; the only reason we need to be aware of it is so that we are not surprised when we see that two variables unexpectedly have identity equality.</p>
</div></div>
      <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = '1.2 The Python Memory Model  Functions and Parameters.html';
}</script>
    </body>
    </html>
  